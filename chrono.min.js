!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.chrono=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){(function(undefined){var moment,VERSION="2.8.4",globalScope=typeof global!=="undefined"?global:this,oldGlobalMoment,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,i,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=typeof module!=="undefined"&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,proxyGettersAndSetters="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),unitMillisecondFactors={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";if(a<0){a=-a;b="-"}return b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function dfl(a,b,c){switch(arguments.length){case 2:return a!=null?a:b;case 3:return a!=null?a:b!=null?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function printMsg(msg){if(moment.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){printMsg(msg);firstTime=false}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){if(!deprecations[name]){printMsg(msg);deprecations[name]=true}}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}while(ordinalizeTokens.length){i=ordinalizeTokens.pop();formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i)}while(paddedTokens.length){i=paddedTokens.pop();formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2)}formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3);function Locale(){}function Moment(config,skipOverflow){if(skipOverflow!==false){checkOverflow(config)}copyConfig(this,config);this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=moment.localeData();this._bubble()}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=="undefined"){to._isAMomentObject=from._isAMomentObject}if(typeof from._i!=="undefined"){to._i=from._i}if(typeof from._f!=="undefined"){to._f=from._f}if(typeof from._l!=="undefined"){to._l=from._l}if(typeof from._strict!=="undefined"){to._strict=from._strict}if(typeof from._tzm!=="undefined"){to._tzm=from._tzm}if(typeof from._isUTC!=="undefined"){to._isUTC=from._isUTC}if(typeof from._offset!=="undefined"){to._offset=from._offset}if(typeof from._pf!=="undefined"){to._pf=from._pf}if(typeof from._locale!=="undefined"){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=="undefined"){to[prop]=val}}}return to}function absRound(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function leftZeroFill(number,targetLength,forceSign){var output=""+Math.abs(number),sign=number>=0;while(output.length<targetLength){output="0"+output}return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;other=makeAs(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period).");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=moment.duration(val,period);addOrSubtractDurationFromMoment(this,dur,direction);return this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding)}if(months){rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding)}if(updateOffset){moment.updateOffset(mom,days||months)}}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return Object.prototype.toString.call(input)==="[object Date]"||input instanceof Date}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeList(field){var count,setter;if(field.indexOf("week")===0){count=7;setter="day"}else if(field.indexOf("month")===0){count=12;setter="month"}else{return}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if(typeof format==="number"){index=format;format=undefined}getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")};if(index!=null){return getter(index)}else{for(i=0;i<count;i++){results.push(getter(i))}return results}}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;if(m._a&&m._pf.overflow===-2){overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||m._a[HOUR]===24&&(m._a[MINUTE]!==0||m._a[SECOND]!==0||m._a[MILLISECOND]!==0)?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1;if(m._pf._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}m._pf.overflow=overflow}}function isValid(m){if(m._isValid==null){m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated;if(m._strict){m._isValid=m._isValid&&m._pf.charsLeftOver===0&&m._pf.unusedTokens.length===0&&m._pf.bigHour===undefined}}return m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule){try{oldLocale=moment.locale();_dereq_("./locale/"+name);moment.locale(oldLocale)}catch(e){}}return locales[name]}function makeAs(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res;res._d.setTime(+res._d+diff);moment.updateOffset(res,false);return res}else{return moment(input).local()}}extend(Locale.prototype,{set:function(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==="function"){this[i]=prop}else{this["_"+i]=prop}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=moment.utc([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=moment([2e3,1]).day(i);regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(this._weekdaysParse[i].test(weekdayName)){return i}}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output},isPM:function(input){return(input+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return typeof output==="function"?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return typeof output==="function"?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return typeof format==="function"?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict){return parseTokenOneDigit}case"SS":if(strict){return parseTokenTwoDigits}case"SSS":if(strict){return parseTokenThreeDigits}case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"));return a}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":if(input!=null){datePartArray[MONTH]=(toInt(input)-1)*3}break;case"M":case"MM":if(input!=null){datePartArray[MONTH]=toInt(input)-1}break;case"MMM":case"MMMM":a=config._locale.monthsParse(input,token,config._strict);if(a!=null){datePartArray[MONTH]=a}else{config._pf.invalidMonth=input}break;case"D":case"DD":if(input!=null){datePartArray[DATE]=toInt(input)}break;case"Do":if(input!=null){datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10))}break;case"DDD":case"DDDD":if(input!=null){config._dayOfYear=toInt(input)}break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"h":case"hh":config._pf.bigHour=true;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(("0."+input)*1e3);break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(parseFloat(input)*1e3);break;case"Z":case"ZZ":config._useUTC=true;config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input);if(a!=null){config._w=config._w||{};config._w["d"]=a}else{config._pf.invalidWeekday=input}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2);if(input){config._w=config._w||{};config._w[token]=toInt(input)}break;case"gg":case"GG":config._w=config._w||{};config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year);week=dfl(w.W,1);weekday=dfl(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year);week=dfl(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=dfl(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){config._pf._overflowDayOfYear=true}date=makeUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dateFromObject(config){var normalizedInput;if(config._d){return}normalizedInput=normalizeObjectUnits(config._i);config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond];dateFromConfig(config)}function currentDateArray(config){var now=new Date;if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}else{return[now.getFullYear(),now.getMonth(),now.getDate()]}}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601){parseISO(config);return}config._a=[];config._pf.empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){config._pf.unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){config._pf.empty=false}else{config._pf.unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){config._pf.unusedTokens.push(token)}}config._pf.charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){config._pf.unusedInput.push(string)}if(config._pf.bigHour===true&&config._a[HOUR]<=12){config._pf.bigHour=undefined}if(config._isPm&&config._a[HOUR]<12){config._a[HOUR]+=12}if(config._isPm===false&&config._a[HOUR]===12){config._a[HOUR]=0}dateFromConfig(config);checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){config._pf.invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._pf=defaultParsingFlags();tempConfig._f=config._f[i];makeDateFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=tempConfig._pf.charsLeftOver;currentScore+=tempConfig._pf.unusedTokens.length*10;tempConfig._pf.score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){config._pf.iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}}for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(parseTokenTimezone)){config._f+="Z"}makeDateFromStringAndFormat(config)}else{config._isValid=false}}function makeDateFromString(config){parseISO(config);if(config._isValid===false){delete config._isValid;moment.createFromInputFallback(config)}}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function makeDateFromInput(config){var input=config._i,matched;if(input===undefined){config._d=new Date}else if(isDate(input)){config._d=new Date(+input)}else if((matched=aspNetJsonRegex.exec(input))!==null){config._d=new Date(+matched[1])}else if(typeof input==="string"){makeDateFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});dateFromConfig(config)}else if(typeof input==="object"){dateFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{moment.createFromInputFallback(config)}}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}function parseWeekday(input,locale){if(typeof input==="string"){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=="number"){return null}}}return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||minutes===1&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||hours===1&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||days===1&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||months===1&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||years===1&&["y"]||["yy",years];args[2]=withoutSuffix;args[3]=+posNegDuration>0;args[4]=locale;return substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=moment(mom).add(daysToDayOfWeek,"d");return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay(),daysToAdd,dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var input=config._i,format=config._f,res;config._locale=config._locale||moment.localeData(config._l);if(input===null||format===undefined&&input===""){return moment.invalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(moment.isMoment(input)){return new Moment(input,true)}else if(format){if(isArray(format)){makeDateFromStringAndArray(config)}else{makeDateFromStringAndFormat(config)}}else{makeDateFromInput(config)}res=new Moment(config);if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}moment=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._i=input;c._f=format;c._l=locale;c._strict=strict;c._isUTC=false;c._pf=defaultParsingFlags();return makeMoment(c)};moment.suppressDeprecationWarnings=false;moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return moment()}res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}return res}moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)
};moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)};moment.utc=function(input,format,locale,strict){var c;if(typeof locale==="boolean"){strict=locale;locale=undefined}c={};c._isAMomentObject=true;c._useUTC=true;c._isUTC=true;c._l=locale;c._i=input;c._f=format;c._strict=strict;c._pf=defaultParsingFlags();return makeMoment(c).utc()};moment.unix=function(input){return moment(input*1e3)};moment.duration=function(input,key){var duration=input,match=null,sign,ret,parseIso,diffRes;if(moment.isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetTimeSpanJsonRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoDurationRegex.exec(input))){sign=match[1]==="-"?-1:1;parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign};duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(moment(duration.from),moment(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(moment.isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret};moment.version=VERSION;moment.defaultFormat=isoFormat;moment.ISO_8601=function(){};moment.momentProperties=momentProperties;moment.updateOffset=function(){};moment.relativeTimeThreshold=function(threshold,limit){if(relativeTimeThresholds[threshold]===undefined){return false}if(limit===undefined){return relativeTimeThresholds[threshold]}relativeTimeThresholds[threshold]=limit;return true};moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)});moment.locale=function(key,values){var data;if(key){if(typeof values!=="undefined"){data=moment.defineLocale(key,values)}else{data=moment.localeData(key)}if(data){moment.duration._locale=moment._locale=data}}return moment._locale._abbr};moment.defineLocale=function(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale}locales[name].set(values);moment.locale(name);return locales[name]}else{delete locales[name];return null}};moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)});moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return moment._locale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)};moment.isMoment=function(obj){return obj instanceof Moment||obj!=null&&hasOwnProp(obj,"_isAMomentObject")};moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i){makeList(lists[i])}moment.normalizeUnits=function(units){return normalizeUnits(units)};moment.invalid=function(flags){var m=moment.utc(NaN);if(flags!=null){extend(m._pf,flags)}else{m._pf.userInvalidated=true}return m};moment.parseZone=function(){return moment.apply(null,arguments).parseZone()};moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();if(0<m.year()&&m.year()<=9999){if("function"===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0}return false},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){if(this._isUTC){this.zone(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.add(this._dateTzOffset(),"m")}}return this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var that=makeAs(input,this),zoneDiff=(this.zone()-that.zone())*6e4,diff,output,daysAdjust;units=normalizeUnits(units);if(units==="year"||units==="month"){diff=(this.daysInMonth()+that.daysInMonth())*432e5;output=(this.year()-that.year())*12+(this.month()-that.month());daysAdjust=this-moment(this).startOf("month")-(that-moment(that).startOf("month"));daysAdjust-=(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone()))*6e4;output+=daysAdjust/diff;if(units==="year"){output=output/12}}else{diff=this-that;output=units==="second"?diff/1e3:units==="minute"?diff/6e4:units==="hour"?diff/36e5:units==="day"?(diff-zoneDiff)/864e5:units==="week"?(diff-zoneDiff)/6048e5:diff}return asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}},month:makeAccessor("Month",true),startOf:function(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}else if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this>+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return inputMs<+this.clone().startOf(units)}},isBefore:function(input,units){var inputMs;units=normalizeUnits(typeof units!=="undefined"?units:"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this<+input}else{inputMs=moment.isMoment(input)?+input:+moment(input);return+this.clone().endOf(units)<inputMs}},isSame:function(input,units){var inputMs;units=normalizeUnits(units||"millisecond");if(units==="millisecond"){input=moment.isMoment(input)?input:moment(input);return+this===+input}else{inputMs=+moment(input);return+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)}},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other<this?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){other=moment.apply(null,arguments);return other>this?this:other}),zone:function(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==="string"){input=timezoneMinutesFromString(input)}if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=this._dateTzOffset()}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.subtract(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;moment.updateOffset(this,true);this._changeInProgress=null}}}else{return this._isUTC?offset:this._dateTzOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else if(typeof this._i==="string"){this.zone(this._i)}return this},hasAlignedHourOffset:function(input){if(!input){input=0}else{input=moment(input).zone()}return(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){units=normalizeUnits(units);return this[units]()},set:function(units,value){units=normalizeUnits(units);if(typeof this[units]==="function"){this[units](value)}return this},locale:function(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=moment.localeData(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}}),localeData:function(){return this._locale},_dateTzOffset:function(){return Math.round(this._d.getTimezoneOffset()/15)*15}});function rawMonthSetter(mom,value){var dayOfMonth;if(typeof value==="string"){value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){if(unit==="Month"){return rawMonthSetter(mom,value)}else{return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function makeAccessor(unit,keepTime){return function(value){if(value!=null){rawSetter(this,unit,value);moment.updateOffset(this,keepTime);return this}else{return rawGetter(this,unit)}}}moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",false);moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",false);moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",false);moment.fn.hour=moment.fn.hours=makeAccessor("Hours",true);moment.fn.date=makeAccessor("Date",true);moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",true));moment.fn.year=makeAccessor("FullYear",true);moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",true));moment.fn.days=moment.fn.day;moment.fn.months=moment.fn.month;moment.fn.weeks=moment.fn.week;moment.fn.isoWeeks=moment.fn.isoWeek;moment.fn.quarters=moment.fn.quarter;moment.fn.toJSON=moment.fn.toISOString;function daysToYears(days){return days*400/146097}function yearsToDays(years){return years*146097/400}extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1e3;seconds=absRound(milliseconds/1e3);data.seconds=seconds%60;minutes=absRound(seconds/60);data.minutes=minutes%60;hours=absRound(minutes/60);data.hours=hours%24;days+=absRound(hours/24);years=absRound(daysToYears(days));days-=absRound(yearsToDays(years));months+=absRound(days/30);days%=30;years+=absRound(months/12);months%=12;data.days=days;data.months=months;data.years=years},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());if(withSuffix){output=this.localeData().pastFuture(+this,output)}return this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);this._milliseconds+=dur._milliseconds;this._days+=dur._days;this._months+=dur._months;this._bubble();return this},subtract:function(input,val){var dur=moment.duration(input,val);this._milliseconds-=dur._milliseconds;this._days-=dur._days;this._months-=dur._months;this._bubble();return this},get:function(units){units=normalizeUnits(units);return this[units.toLowerCase()+"s"]()},as:function(units){var days,months;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+this._milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==="month"?months:months/12}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return days*24+this._milliseconds/36e5;case"minute":return days*24*60+this._milliseconds/6e4;case"second":return days*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(days*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead "+"(notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":"")},localeData:function(){return this._locale}});moment.duration.fn.toString=moment.duration.fn.toISOString;function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}for(i in unitMillisecondFactors){if(hasOwnProp(unitMillisecondFactors,i)){makeDurationGetter(i.toLowerCase())}}moment.duration.fn.asMilliseconds=function(){return this.as("ms")};moment.duration.fn.asSeconds=function(){return this.as("s")};moment.duration.fn.asMinutes=function(){return this.as("m")};moment.duration.fn.asHours=function(){return this.as("h")};moment.duration.fn.asDays=function(){return this.as("d")};moment.duration.fn.asWeeks=function(){return this.as("weeks")};moment.duration.fn.asMonths=function(){return this.as("M")};moment.duration.fn.asYears=function(){return this.as("y")};moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});function makeGlobal(shouldDeprecate){if(typeof ender!=="undefined"){return}oldGlobalMoment=globalScope.moment;if(shouldDeprecate){globalScope.moment=deprecate("Accessing Moment through the global scope is "+"deprecated, and will be removed in an upcoming "+"release.",moment)}else{globalScope.moment=moment}}if(hasModule){module.exports=moment}else if(typeof define==="function"&&define.amd){define("moment",function(_dereq_,exports,module){if(module.config&&module.config()&&module.config().noGlobal===true){globalScope.moment=oldGlobalMoment}return moment});makeGlobal(true)}else{makeGlobal()}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(_dereq_,module,exports){var options=exports.options=_dereq_("./options");exports.Parser=_dereq_("./parsers/parser").Parser;exports.Refiner=_dereq_("./refiners/refiner").Filter;exports.Filter=_dereq_("./refiners/refiner").Filter;exports.ParsedResult=_dereq_("./result").ParsedResult;exports.ParsedComponents=_dereq_("./result").ParsedComponents;var Chrono=function(option){option=option||exports.options.strictOption();this.option=option;this.parsers=new Object(option.parsers);this.refiners=new Object(option.refiners)};Chrono.prototype.parse=function(text,refDate,opt){refDate=refDate||new Date;opt=opt||{};var allResults=[];this.parsers.forEach(function(parser){var results=parser.execute(text,refDate,opt);allResults=allResults.concat(results)});allResults.sort(function(a,b){return a.index-b.index});this.refiners.forEach(function(refiner){allResults=refiner.refine(text,allResults,opt)});return allResults};Chrono.prototype.parseDate=function(text,refDate,opt){var results=this.parse(text,refDate,opt);if(results.length>0){return results[0].start.date()}return null};exports.Chrono=Chrono;exports.strict=new Chrono(options.strictOption());exports.casual=new Chrono(options.casualOption());exports.parse=function(){return exports.casual.parse.apply(exports.casual,arguments)};exports.parseDate=function(){return exports.casual.parseDate.apply(exports.casual,arguments)}},{"./options":4,"./parsers/parser":14,"./refiners/refiner":21,"./result":22}],3:[function(_dereq_,module,exports){exports.WEEKDAY_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6};exports.MONTH_OFFSET={january:1,jan:1,"jan.":1,february:2,feb:2,"feb.":2,march:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,may:5,june:6,jun:6,"jun.":6,july:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,october:10,oct:10,"oct.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12}},{}],4:[function(_dereq_,module,exports){var ENISOFormatParser=_dereq_("./parsers/EN/ENISOFormatParser").Parser;var ENDeadlineFormatParser=_dereq_("./parsers/EN/ENDeadlineFormatParser").Parser;var ENMonthNameLittleEndianParser=_dereq_("./parsers/EN/ENMonthNameLittleEndianParser").Parser;var ENMonthNameMiddleEndianParser=_dereq_("./parsers/EN/ENMonthNameMiddleEndianParser").Parser;var ENSlashDateFormatParser=_dereq_("./parsers/EN/ENSlashDateFormatParser").Parser;var ENTimeAgoFormatParser=_dereq_("./parsers/EN/ENTimeAgoFormatParser").Parser;var ENTimeExpessionParser=_dereq_("./parsers/EN/ENTimeExpressionParser").Parser;var ENWeekdayParser=_dereq_("./parsers/EN/ENWeekdayParser").Parser;var ENCasualDateParser=_dereq_("./parsers/EN/ENCasualDateParser").Parser;var ENMergeDateTimeRefiner=_dereq_("./refiners/EN/ENMergeDateTimeRefiner").Refiner;var ENMergeDateRangeRefiner=_dereq_("./refiners/EN/ENMergeDateRangeRefiner").Refiner;var OverlapRemovalRefiner=_dereq_("./refiners/OverlapRemovalRefiner").Refiner;var ExtractTimezoneOffsetRefiner=_dereq_("./refiners/ExtractTimezoneOffsetRefiner").Refiner;var ExtractTimezoneAbbrRefiner=_dereq_("./refiners/ExtractTimezoneAbbrRefiner").Refiner;var UnlikelyFormatFilter=_dereq_("./refiners/UnlikelyFormatFilter").Refiner;exports.strictOption=function(){return{parsers:[new ENISOFormatParser,new ENDeadlineFormatParser,new ENMonthNameLittleEndianParser,new ENMonthNameMiddleEndianParser,new ENSlashDateFormatParser,new ENTimeAgoFormatParser,new ENTimeExpessionParser],refiners:[new OverlapRemovalRefiner,new ENMergeDateTimeRefiner,new ENMergeDateRangeRefiner,new ExtractTimezoneOffsetRefiner,new ExtractTimezoneAbbrRefiner,new UnlikelyFormatFilter]}};exports.casualOption=function(){var options=exports.strictOption();options.parsers.unshift(new ENCasualDateParser);options.parsers.unshift(new ENWeekdayParser);return options}},{"./parsers/EN/ENCasualDateParser":5,"./parsers/EN/ENDeadlineFormatParser":6,"./parsers/EN/ENISOFormatParser":7,"./parsers/EN/ENMonthNameLittleEndianParser":8,"./parsers/EN/ENMonthNameMiddleEndianParser":9,"./parsers/EN/ENSlashDateFormatParser":10,"./parsers/EN/ENTimeAgoFormatParser":11,"./parsers/EN/ENTimeExpressionParser":12,"./parsers/EN/ENWeekdayParser":13,"./refiners/EN/ENMergeDateRangeRefiner":15,"./refiners/EN/ENMergeDateTimeRefiner":16,"./refiners/ExtractTimezoneAbbrRefiner":17,"./refiners/ExtractTimezoneOffsetRefiner":18,"./refiners/OverlapRemovalRefiner":19,"./refiners/UnlikelyFormatFilter":20}],5:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=/(today|tonight|tomorrow|tmr|yesterday|last\s*night|this\s*(morning|afternoon|evening))(?=\W|$)/i;exports.Parser=function ENCasualDateParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){var index=match.index;var text=match[0];var result=new ParsedResult({index:index,text:text,ref:ref});var refMoment=moment(ref);var startMoment=refMoment.clone();var lowerText=text.toLowerCase();if(lowerText=="tonight"){result.start.imply("hour",22);result.start.imply("meridiem",1)}else if(lowerText=="tomorrow"||lowerText=="tmr"){if(refMoment.hour()>4){startMoment.add(1,"day")}}else if(lowerText=="yesterday"){startMoment.add(-1,"day")}else if(lowerText.match(/last\s*night/)){result.start.imply("hour",0);if(refMoment.hour()>6){startMoment.add(-1,"day")}}else if(lowerText.match("this")){var secondMatch=match[2].toLowerCase();if(secondMatch=="afternoon"){result.start.imply("hour",15)}else if(secondMatch=="evening"){result.start.imply("hour",18)}else if(secondMatch=="morning"){result.start.imply("hour",6)}}result.start.assign("day",startMoment.date());result.start.assign("month",startMoment.month()+1);result.start.assign("year",startMoment.year());result.tags["ENCasualDateParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],6:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=/(\W|^)(within|in)\s*([0-9]+)\s*(minutes?|hours?|days?)\s*(?=(?:\W|$))/i;exports.Parser=function ENDeadlineFormatParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){var index=match.index+match[1].length;var text=match[0];text=match[0].substr(match[1].length,match[0].length-match[1].length);var result=new ParsedResult({index:index,text:text,ref:ref});var num=match[3];num=parseInt(num);var date=moment(ref);if(match[4].match(/day/)){date.add(num,"d");result.start.assign("year",date.year());result.start.assign("month",date.month()+1);result.start.assign("day",date.date());return result}if(match[4].match(/hour/)){date.add(num,"hour")}else if(match[4].match(/minute/)){date.add(num,"minute")}result.start.imply("year",date.year());result.start.imply("month",date.month()+1);result.start.imply("day",date.date());result.start.assign("hour",date.hour());result.start.assign("minute",date.minute());result.tags["ENDeadlineFormatParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],7:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=new RegExp("(\\W|^)"+"([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})"+"(?:T"+"([0-9]{1,2}):([0-9]{1,2})"+"(?::([0-9]{1,2})(?:\\.\\d{1,4})?)?"+"(?:Z|([+-]\\d{2}):?(\\d{2})?)"+")?"+"(?=\\W|$)","i");var YEAR_NUMBER_GROUP=2;var MONTH_NUMBER_GROUP=3;var DATE_NUMBER_GROUP=4;var HOUR_NUMBER_GROUP=5;var MINUTE_NUMBER_GROUP=6;var SECOND_NUMBER_GROUP=7;var TZD_HOUR_OFFSET_GROUP=8;var TZD_MINUTE_OFFSET_GROUP=9;exports.Parser=function ENISOFormatParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){var text=match[0].substr(match[1]);var index=match.index+match[1].length;var result=new ParsedResult({text:text,index:index,ref:ref});result.start.assign("year",parseInt(match[YEAR_NUMBER_GROUP]));result.start.assign("month",parseInt(match[MONTH_NUMBER_GROUP]));result.start.assign("day",parseInt(match[DATE_NUMBER_GROUP]));if(moment(result.start.get("month"))>12||moment(result.start.get("month"))<1||moment(result.start.get("day"))>31||moment(result.start.get("day"))<1){return null}if(match[HOUR_NUMBER_GROUP]!=null){result.start.assign("hour",parseInt(match[HOUR_NUMBER_GROUP]));result.start.assign("minute",parseInt(match[MINUTE_NUMBER_GROUP]));if(match[SECOND_NUMBER_GROUP]!=null){result.start.assign("second",parseInt(match[SECOND_NUMBER_GROUP]))}if(match[TZD_HOUR_OFFSET_GROUP]==null){result.start.assign("timezoneOffset",0)}else{var minuteOffset=0;var hourOffset=parseInt(match[TZD_HOUR_OFFSET_GROUP]);if(match[TZD_MINUTE_OFFSET_GROUP]!=null)minuteOffset=parseInt(match[TZD_MINUTE_OFFSET_GROUP]);var offset=hourOffset*60;if(offset<0){offset-=minuteOffset}else{offset+=minuteOffset}result.start.assign("timezoneOffset",offset)}}result.tags["ENISOFormatParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],8:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var CONST=_dereq_("../../constants/EN");var DAYS_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6};var PATTERN=new RegExp("(\\W|^)"+"(?:(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\s*,?\\s*)?"+"([0-9]{1,2})(?:st|nd|rd|th)?"+"(?:\\s*(?:to|\\-|\\s)\\s*([0-9]{1,2})(?:st|nd|rd|th)?)?\\s*(?:of)?\\s*"+"(Jan(?:uary|\\.)?|Feb(?:ruary|\\.)?|Mar(?:ch|\\.)?|Apr(?:il|\\.)?|May|Jun(?:e|\\.)?|Jul(?:y|\\.)?|Aug(?:ust|\\.)?|Sep(?:tember|\\.)?|Oct(?:ober|\\.)?|Nov(?:ember|\\.)?|Dec(?:ember|\\.)?)"+"(?:(\\s*[0-9]{2,4}(?![^\\s]\\d))(\\s*BE)?)?"+"(?=\\W|$)","i");var WEEKDAY_GROUP=2;var DATE_GROUP=3;var DATE_TO_GROUP=4;var MONTH_NAME_GROUP=5;var YEAR_GROUP=6;var YEAR_BE_GROUP=7;exports.Parser=function ENMonthNameLittleEndianParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){var result=new ParsedResult({text:match[0].substr(match[1].length,match[0].length-match[1].length),index:match.index+match[1].length,ref:ref});var startMoment=moment(ref);var month=match[MONTH_NAME_GROUP];month=CONST.MONTH_OFFSET[month.toLowerCase()];var day=match[DATE_GROUP];day=parseInt(day);var year=null;if(match[YEAR_GROUP]){year=match[YEAR_GROUP];year=parseInt(year);if(match[YEAR_BE_GROUP]){year=year-543}else if(year<100){year=year+2e3}}startMoment.month(month-1);startMoment.date(day);if(year){startMoment.year(year);result.start.assign("day",startMoment.date());result.start.assign("month",startMoment.month()+1);result.start.assign("year",startMoment.year())}else{startMoment.year(moment(ref).year());var nextYear=startMoment.clone().add(1,"y");var lastYear=startMoment.clone().add(-1,"y");if(Math.abs(nextYear.diff(moment(ref)))<Math.abs(startMoment.diff(moment(ref)))){startMoment=nextYear}else if(Math.abs(lastYear.diff(moment(ref)))<Math.abs(startMoment.diff(moment(ref)))){startMoment=lastYear}result.start.assign("day",startMoment.date());result.start.assign("month",startMoment.month()+1);result.start.imply("year",startMoment.year())}if(match[WEEKDAY_GROUP]){var weekday=match[WEEKDAY_GROUP];weekday=CONST.WEEKDAY_OFFSET[weekday.toLowerCase()];result.start.assign("weekday",weekday)}if(match[DATE_TO_GROUP]){result.end=result.start.clone();result.end.assign("day",parseInt(match[DATE_TO_GROUP]))}result.tags["ENMonthNameLittleEndianParser"]=true;return result}}},{"../../constants/EN":3,"../../result":22,"../parser":14,moment:1}],9:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var DAYS_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tue:2,wednesday:3,wed:3,thursday:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6};var regFullPattern=/(\W|^)((Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s*,?\s*)?(Jan|January|Feb|February|Mar|March|Apr|April|May|Jun|June|Jul|July|Aug|August|Sep|September|Oct|October|Nov|November|Dec|December)\s*(([0-9]{1,2})(st|nd|rd|th)?\s*(to|\-)\s*)?([0-9]{1,2})(st|nd|rd|th)?(,)?(\s*[0-9]{4})(\s*BE)?(\W|$)/i;var regShortPattern=/(\W|^)((Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\s*,?\s*)?(Jan|January|Feb|February|Mar|March|Apr|April|May|Jun|June|Jul|July|Aug|August|Sep|September|Oct|October|Nov|November|Dec|December)\s*(([0-9]{1,2})(st|nd|rd|th)?\s*(to|\-)\s*)?([0-9]{1,2})(st|nd|rd|th)?([^0-9]|$)/i;exports.Parser=function ENMonthNameMiddleEndianParser(){Parser.call(this);this.pattern=function(){return regShortPattern};this.extract=function(text,ref,match,opt){var result=new ParsedResult;var impliedComponents=[];var date=null;var originalText="";var index=match.index;text=text.substr(index);var match=text.match(regFullPattern);if(match&&text.indexOf(match[0])==0){var text=match[0];text=text.substring(match[1].length,match[0].length-match[14].length);index=index+match[1].length;originalText=text;text=text.replace(match[2],"");text=text.replace(match[4],match[4]+" ");if(match[5])text=text.replace(match[5],"");if(match[10])text=text.replace(match[10],"");if(match[11])text=text.replace(","," ");if(match[13]){var years=match[12];years=" "+(parseInt(years)-543);text=text.replace(match[13],"");text=text.replace(match[12],years)}text=text.replace(match[9],parseInt(match[9])+"");date=moment(text,"MMMM DD YYYY");if(!date)return null;result.start.assign("day",date.date());result.start.assign("month",date.month()+1);result.start.assign("year",date.year())}else{match=text.match(regShortPattern);
if(!match)return null;var text=match[0];text=text.substring(match[1].length,match[0].length-match[11].length);index=index+match[1].length;originalText=text;text=text.replace(match[2],"");text=text.replace(match[4],match[4]+" ");if(match[4])text=text.replace(match[5],"");date=moment(text,"MMMM DD");if(!date)return null;impliedComponents.push("year");date.year(moment(ref).year());var nextYear=date.clone().add(1,"year");var lastYear=date.clone().add(-1,"year");if(Math.abs(nextYear.diff(moment(ref)))<Math.abs(date.diff(moment(ref)))){date=nextYear}else if(Math.abs(lastYear.diff(moment(ref)))<Math.abs(date.diff(moment(ref)))){date=lastYear}result.start.assign("day",date.date());result.start.assign("month",date.month()+1);result.start.imply("year",date.year())}if(match[3]){result.start.assign("weekday",DAYS_OFFSET[match[3].toLowerCase()])}if(match[5]){var endDay=parseInt(match[9]);var startDay=parseInt(match[6]);result.end=result.start.clone();result.start.assign("day",startDay);result.end.assign("day",endDay);var endDate=date.clone();date.date(startDay);endDate.date(endDay)}result.index=index;result.text=originalText;result.ref=ref;result.tags["ENMonthNameMiddleEndianParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],10:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=/(\W|^)(Sun|Sunday|Mon|Monday|Tue|Tuesday|Wed|Wednesday|Thur|Thursday|Fri|Friday|Sat|Saturday)?\s*\,?\s*([0-9]{1,2})[\/\.]([0-9]{1,2})([\/\.]([0-9]{4}|[0-9]{2}))?(\W|$)/i;var DAYS_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,wednesday:3,wed:3,thursday:4,thur:4,friday:5,fri:5,saturday:6,sat:6};exports.Parser=function ENSlashDateFormatParser(argument){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){if(match[1]=="/"||match[7]=="/")return;var index=match.index+match[1].length;var text=match[0].substr(match[1].length,match[0].length-match[7].length);var result=new ParsedResult({text:text,index:index,ref:ref});if(text.match(/^\d.\d$/))return;if(!match[6]&&match[0].indexOf("/")<0)return;var date=null;var year=match[6]||moment(ref).year()+"";var month=match[3];var day=match[4];month=parseInt(month);day=parseInt(day);year=parseInt(year);if(month<1||month>12)return null;if(day<1||day>31)return null;if(year<100){if(year>50){year=year+2500-543}else{year=year+2e3}}text=month+"/"+day+"/"+year;date=moment(text,"M/D/YYYY");if(!date||date.date()!=day||date.month()!=month-1){return null}result.start.assign("day",date.date());result.start.assign("month",date.month()+1);result.start.assign("year",date.year());if(match[2]){result.start.assign("weekday",DAYS_OFFSET[match[2].toLowerCase()])}result.tags["ENSlashDateFormatParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],11:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=/(\W|^)(?:within\s*)?([0-9]+)\s*(minutes?|hours?|days?)\s*ago(?=(?:\W|$))/i;exports.Parser=function ENTimeAgoFormatParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){if(match.index>0&&text[match.index-1].match(/\w/))return null;var text=match[0];text=match[0].substr(match[1].length,match[0].length-match[1].length);index=match.index+match[1].length;var result=new ParsedResult({index:index,text:text,ref:ref});var num=match[2];num=parseInt(num);var date=moment(ref);if(match[3].match(/day/)){impliedComponents=[];date.add(-num,"d");result.start.assign("day",date.date());result.start.assign("month",date.month()+1);result.start.assign("year",date.year());return result}if(match[3].match(/hour/)){date.add(-num,"hour")}else if(match[3].match(/minute/)){date.add(-num,"minute")}result.start.imply("day",date.date());result.start.imply("month",date.month()+1);result.start.imply("year",date.year());result.start.assign("hour",date.hour());result.start.assign("minute",date.minute());result.tags["ENTimeAgoFormatParser"]=true;return result}}},{"../../result":22,"../parser":14,moment:1}],12:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var FIRST_REG_PATTERN=new RegExp("(^|\\s|T)"+"(?:(?:at|from)?\\s*)?"+"(\\d{1,4}|noon|midnight)"+"(?:"+"(?:\\.|\\:|\\：)(\\d{1,2})"+"(?:"+"(?:\\.|\\:|\\：)(\\d{1,2})"+")?"+")?"+"(?:\\s*(AM|PM|A\\.M\\.|P\\.M\\.))?"+"(?=\\W|$)","i");var SECOND_REG_PATTERN=new RegExp("^\\s*"+"(\\-|\\~|\\〜|to|\\?)\\s*"+"(\\d{1,4})"+"(?:"+"(?:\\.|\\:|\\：)(\\d{1,2})"+"(?:"+"(?:\\.|\\:|\\：)(\\d{1,2})"+")?"+")?"+"(?:\\s*(AM|PM|A\\.M\\.|P\\.M\\.))?"+"(?=\\W|$)","i");var HOUR_GROUP=2;var MINUTE_GROUP=3;var SECOND_GROUP=4;var AM_PM_HOUR_GROUP=5;exports.Parser=function ENTimeExpressionParser(){Parser.call(this);this.pattern=function(){return FIRST_REG_PATTERN};this.extract=function(text,ref,match,opt){if(match.index>0&&text[match.index-1].match(/\w/))return null;var refMoment=moment(ref);var result=new ParsedResult;result.ref=ref;result.index=match.index+match[1].length;result.text=match[0].substring(match[1].length);result.tags["ENTimeExpressionParser"]=true;result.start.imply("day",refMoment.date());result.start.imply("month",refMoment.month()+1);result.start.imply("year",refMoment.year());var hour=0;var minute=0;var meridiem=-1;if(match[SECOND_GROUP]!=null){var second=parseInt(match[SECOND_GROUP]);if(second>=60)return null;result.start.assign("second",second)}if(match[HOUR_GROUP].toLowerCase()=="noon"){meridiem=1;hour=12}else if(match[HOUR_GROUP].toLowerCase()=="midnight"){meridiem=0;hour=0}else{hour=parseInt(match[HOUR_GROUP])}if(match[MINUTE_GROUP]!=null){minute=parseInt(match[MINUTE_GROUP])}else if(hour>100){minute=hour%100;hour=parseInt(hour/100)}if(minute>=60){return null}if(hour>24){return null}if(hour>=12){meridiem=1}if(match[AM_PM_HOUR_GROUP]!=null){if(hour>12)return null;if(match[AM_PM_HOUR_GROUP].replace(".","").toLowerCase()=="am"){meridiem=0;if(hour==12)hour=0}if(match[AM_PM_HOUR_GROUP].replace(".","").toLowerCase()=="pm"){meridiem=1;if(hour!=12)hour+=12}}result.start.assign("hour",hour);result.start.assign("minute",minute);if(meridiem>=0){result.start.assign("meridiem",meridiem)}match=SECOND_REG_PATTERN.exec(text.substring(result.index+result.text.length));if(!match){if(result.text.match(/^\d+$/)){return null}return result}if(result.end==null){result.end=result.start.clone()}var hour=0;var minute=0;var meridiem=-1;if(match[SECOND_GROUP]!=null){var second=parseInt(match[SECOND_GROUP]);if(second>=60)return null;result.end.assign("second",second)}hour=parseInt(match[2]);if(match[MINUTE_GROUP]!=null){minute=parseInt(match[MINUTE_GROUP]);if(minute>=60)return result}else if(hour>100){minute=hour%100;hour=parseInt(hour/100)}if(minute>=60){return null}if(hour>24){return null}if(hour>=12){meridiem=1}if(match[AM_PM_HOUR_GROUP]!=null){if(hour>12)return null;if(match[AM_PM_HOUR_GROUP].replace(".","").toLowerCase()=="am"){meridiem=0;if(hour==12){hour=0;if(!result.end.isCertain("day")){result.end.imply("day",result.end.get("day")+1)}}}if(match[AM_PM_HOUR_GROUP].replace(".","").toLowerCase()=="pm"){meridiem=1;if(hour!=12)hour+=12}if(!result.start.isCertain("meridiem")){if(meridiem==0){result.start.imply("meridiem",0);if(result.start.get("hour")==12){result.start.assign("hour",0)}}else{result.start.imply("meridiem",1);if(result.start.get("hour")!=12){result.start.assign("hour",result.start.get("hour")+12)}}}}if(hour>=12)meridiem=1;result.text=result.text+match[0];result.end.assign("hour",hour);result.end.assign("minute",minute);if(meridiem>=0){result.end.assign("meridiem",meridiem)}return result}}},{"../../result":22,"../parser":14,moment:1}],13:[function(_dereq_,module,exports){var moment=_dereq_("moment");var Parser=_dereq_("../parser").Parser;var ParsedResult=_dereq_("../../result").ParsedResult;var PATTERN=/(\W|^)((\,|\(|\（)\s*)?((this|last|next)\s*)?(Sunday|Sun|Monday|Mon|Tuesday|Tues|Tue|Wednesday|Wed|Thursday|Thurs|Thur|Friday|Fri|Saturday|Sat)(\s*(\,|\)|\）))?(\W|$)/i;var DAYS_OFFSET={sunday:0,sun:0,monday:1,mon:1,tuesday:2,tues:2,tue:2,wednesday:3,wed:3,thursday:4,thurs:4,thur:4,thu:4,friday:5,fri:5,saturday:6,sat:6};exports.Parser=function ENWeekdayParser(){Parser.call(this);this.pattern=function(){return PATTERN};this.extract=function(text,ref,match,opt){var index=match.index+match[1].length;var text=match[0].substr(match[1].length,match[0].length-match[9].length-match[1].length);var result=new ParsedResult({index:index,text:text,ref:ref});var dayOfWeek=match[6].toLowerCase();var offset=DAYS_OFFSET[dayOfWeek];if(offset===undefined)return null;var startMoment=moment(ref);var prefix=match[5];if(prefix){prefix=prefix.toLowerCase();if(prefix=="last")startMoment.day(offset-7);else if(prefix=="next")startMoment.day(offset+7);else if(prefix=="this")startMoment.day(offset)}else{var refOffset=startMoment.day();if(Math.abs(offset-7-refOffset)<Math.abs(offset-refOffset)){startMoment.day(offset-7)}else if(Math.abs(offset+7-refOffset)<Math.abs(offset-refOffset)){startMoment.day(offset+7)}else{startMoment.day(offset)}}result.start.assign("weekday",offset);result.start.imply("day",startMoment.date());result.start.imply("month",startMoment.month()+1);result.start.imply("year",startMoment.year());return result}}},{"../../result":22,"../parser":14,moment:1}],14:[function(_dereq_,module,exports){function Parser(){this.pattern=function(){return/./i};this.extract=function(text,ref,match,opt){return null};this.execute=function(text,ref,opt){var results=[];var regex=this.pattern();var remainingText=text;var match=regex.exec(remainingText);while(match){match.index+=text.length-remainingText.length;var result=this.extract(text,ref,match,opt);if(result){remainingText=text.substring(result.index+result.text.length);results.push(result)}else{remainingText=text.substring(match.index+1)}match=regex.exec(remainingText)}if(this.refiners){this.refiners.forEach(function(){results=refiner.refine(results,text,options)})}return results}}exports.Parser=Parser},{}],15:[function(_dereq_,module,exports){var Refiner=_dereq_("../refiner").Refiner;var OVERLAP_PATTERN=/^\s*(to|\-)\s*$/i;function isAbleToMerge(text,result1,result2){var begin=result1.index+result1.text.length;var end=result2.index;var textBetween=text.substring(begin,end);return textBetween.match(OVERLAP_PATTERN)}function mergeResult(text,fromResult,toResult){for(var key in toResult.start.knownValues){if(!fromResult.start.isCertain(key)){fromResult.start.assign(key,toResult.start.get(key))}}for(var key in fromResult.start.knownValues){if(!toResult.start.isCertain(key)){toResult.start.assign(key,fromResult.start.get(key))}}if(fromResult.start.date().getTime()>toResult.start.date()){var tmp=toResult;toResult=fromResult;fromResult=tmp}fromResult.end=toResult.start;for(var tag in toResult.tags){fromResult.tags[tag]=true}var startIndex=Math.min(fromResult.index,toResult.index);var endIndex=Math.max(fromResult.index+fromResult.text.length,toResult.index+toResult.text.length);fromResult.index=startIndex;fromResult.text=text.substring(startIndex,endIndex);fromResult.tags["ENMergeDateRangeRefiner"]=true;return fromResult}exports.Refiner=function ENMergeDateRangeRefiner(){Refiner.call(this);this.refine=function(text,results,opt){if(results.length<2)return results;var mergedResult=[];var currResult=null;var prevResult=null;for(var i=1;i<results.length;i++){currResult=results[i];prevResult=results[i-1];if(!prevResult.end&&!currResult.end&&isAbleToMerge(text,prevResult,currResult)){prevResult=mergeResult(text,prevResult,currResult);currResult=null;i+=1}mergedResult.push(prevResult)}if(currResult!=null){mergedResult.push(currResult)}return mergedResult}}},{"../refiner":21}],16:[function(_dereq_,module,exports){var ParsedComponents=_dereq_("../../result").ParsedComponents;var Refiner=_dereq_("../refiner").Refiner;var PATTERN=new RegExp("^\\s*(T|at|on|of|,|-)?\\s*$");function isDateOnly(result){return!result.start.isCertain("hour")}function isTimeOnly(result){return!result.start.isCertain("month")&&!result.start.isCertain("weekday")}function isAbleToMerge(text,prevResult,curResult){var textBetween=text.substring(prevResult.index+prevResult.text.length,curResult.index);return textBetween.match(PATTERN)}function mergeResult(text,dateResult,timeResult){var beginDate=dateResult.start;var beginTime=timeResult.start;var beginDateTime=beginDate.clone();beginDateTime.assign("hour",beginTime.get("hour"));beginDateTime.assign("minute",beginTime.get("minute"));beginDateTime.assign("second",beginTime.get("second"));if(beginTime.isCertain("meridiem")){beginDateTime.assign("meridiem",beginTime.get("meridiem"))}else if(beginTime.get("meridiem")!==undefined){beginDateTime.imply("meridiem",beginTime.get("meridiem"))}if(beginDateTime.get("meridiem")==1&&beginDateTime.get("hour")<12){beginDateTime.assign("hour",beginDateTime.get("hour")+12)}dateResult.start=beginDateTime;if(dateResult.end!=null||timeResult.end!=null){var endDate=dateResult.end==null?dateResult.start:dateResult.end;var endTime=timeResult.end==null?timeResult.start:timeResult.end;var endDateTime=endDate.clone();endDateTime.assign("hour",endTime.get("hour"));endDateTime.assign("minute",endTime.get("minute"));endDateTime.assign("second",endTime.get("second"));if(endTime.isCertain("meridiem")){endDateTime.assign("meridiem",endTime.get("meridiem"))}else if(beginTime.get("meridiem")!=null){endDateTime.imply("meridiem",endTime.get("meridiem"))}dateResult.end=endDateTime}var startIndex=Math.min(dateResult.index,timeResult.index);var endIndex=Math.max(dateResult.index+dateResult.text.length,timeResult.index+timeResult.text.length);dateResult.index=startIndex;dateResult.text=text.substring(startIndex,endIndex);for(var tag in timeResult.tags){dateResult.tags[tag]=true}dateResult.tags["ENMergeDateAndTimeRefiner"]=true;return dateResult}exports.Refiner=function ENMergeDateTimeRefiner(){Refiner.call(this);this.refine=function(text,results,opt){if(results.length<2)return results;var mergedResult=[];var currResult=null;var prevResult=null;for(var i=1;i<results.length;i++){currResult=results[i];prevResult=results[i-1];if(isDateOnly(prevResult)&&isTimeOnly(currResult)&&isAbleToMerge(text,prevResult,currResult)){prevResult=mergeResult(text,prevResult,currResult);currResult=null;i+=1}else if(isDateOnly(currResult)&&isTimeOnly(prevResult)&&isAbleToMerge(text,prevResult,currResult)){prevResult=mergeResult(text,currResult,prevResult);currResult=null;i+=1}mergedResult.push(prevResult)}if(currResult!=null){mergedResult.push(currResult)}return mergedResult}}},{"../../result":22,"../refiner":21}],17:[function(_dereq_,module,exports){var Refiner=_dereq_("./refiner").Refiner;var TIMEZONE_ABBR_MAP={};var TIMEZONE_NAME_PATTERN=new RegExp("^\\s*\\(?([A-Z]{1,4})\\)?(?=\\W|$)","i");exports.Refiner=function ExtractTimezoneAbbrRefiner(){Refiner.call(this);this.refine=function(text,results,opt){results.forEach(function(result){var match=TIMEZONE_NAME_PATTERN.exec(text.substring(result.index+result.text.length));if(match){var timezoneAbbr=match[1];if(TIMEZONE_ABBR_MAP[timezoneAbbr]===undefined){return}var timezoneOffset=TIMEZONE_ABBR_MAP[timezoneAbbr];if(!result.start.isCertain("timezoneOffset")){result.start.assign("timezoneOffset",timezoneOffset)}if(result.end!=null&&!result.end.isCertain("timezoneOffset")){result.end.assign("timezoneOffset",timezoneOffset)}result.text+=match[0];result.tags["ExtractTimezoneAbbrRefiner"]=true}});return results}};TIMEZONE_ABBR_MAP={A:60,ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,B:120,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,C:180,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,D:240,DAVT:420,E:300,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,F:360,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,G:420,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,H:480,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,I:540,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:60,JST:540,K:600,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,L:660,LHDT:660,LHST:630,LINT:840,M:720,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,N:-60,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,O:-120,OMSST:420,OMST:420,P:-180,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,Q:-240,R:-300,RET:240,S:-360,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,T:-420,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,U:-480,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,V:-540,VET:-210,VLAST:660,VLAT:660,VUT:660,W:-600,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,X:-660,Y:-720,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360,Z:0}},{"./refiner":21}],18:[function(_dereq_,module,exports){var Refiner=_dereq_("./refiner").Refiner;var TIMEZONE_OFFSET_PATTERN=new RegExp("^\\s*(GMT|UTC)?(\\+|\\-)(\\d{1,2}):?(\\d{2})","i");var TIMEZONE_OFFSET_SIGN_GROUP=2;var TIMEZONE_OFFSET_HOUR_OFFSET_GROUP=3;var TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP=4;exports.Refiner=function ExtractTimezoneOffsetRefiner(){Refiner.call(this);this.refine=function(text,results,opt){results.forEach(function(result){if(result.start.isCertain("timezoneOffset")){return}var match=TIMEZONE_OFFSET_PATTERN.exec(text.substring(result.index+result.text.length));if(!match){return}var hourOffset=parseInt(match[TIMEZONE_OFFSET_HOUR_OFFSET_GROUP]);var minuteOffset=parseInt(match[TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP]);var timezoneOffset=hourOffset*60+minuteOffset;if(match[TIMEZONE_OFFSET_SIGN_GROUP]==="-"){timezoneOffset=-timezoneOffset}if(result.end!=null){result.end.assign("timezoneOffset",timezoneOffset)}result.start.assign("timezoneOffset",timezoneOffset);result.text+=match[0];result.tags["ExtractTimezoneOffsetRefiner"]=true});return results}}},{"./refiner":21}],19:[function(_dereq_,module,exports){var Refiner=_dereq_("./refiner").Refiner;exports.Refiner=function OverlapRemovalRefiner(){Refiner.call(this);this.refine=function(text,results,opt){if(results.length<2)return results;var filteredResults=[];var prevResult=results[0];for(var i=1;i<results.length;i++){var result=results[i];if(result.index<prevResult.index+prevResult.text.length){if(result.text.length>prevResult.text.length){prevResult=result}}else{filteredResults.push(prevResult);prevResult=result}}if(prevResult!=null){filteredResults.push(prevResult)}return filteredResults}}},{"./refiner":21}],20:[function(_dereq_,module,exports){var Filter=_dereq_("./refiner").Filter;exports.Refiner=function UnlikelyFormatFilter(){Filter.call(this);this.isValid=function(text,result,opt){if(result.text.replace(" ","").match(/^\d*\.\d*$/)){return false}return true}}},{"./refiner":21}],21:[function(_dereq_,module,exports){exports.Refiner=function Refiner(){this.refine=function(text,results,opt){return results}};exports.Filter=function Filter(){exports.Refiner.call(this);this.isValid=function(text,result,opt){return true};this.refine=function(text,results,opt){var filteredResult=[];for(var i=0;i<results.length;i++){var result=results[i];if(this.isValid(text,result,opt)){filteredResult.push(result)}}return filteredResult}}},{}],22:[function(_dereq_,module,exports){var moment=_dereq_("moment");function ParsedResult(result){result=result||{};this.ref=result.ref;this.index=result.index;this.text=result.text;this.tags=result.tags||{};this.start=new ParsedComponents(result.start,result.ref);if(result.end){this.end=new ParsedComponents(result.end,result.ref)}}ParsedResult.prototype.clone=function(){var result=new ParsedResult(this);result.tags=JSON.parse(JSON.stringify(this.tags));result.start=this.start.clone();if(this.end){result.end=this.end.clone()}};function ParsedComponents(components,ref){this.knownValues={};this.impliedValues={};if(components){for(key in components){this.knownValues[key]=components[key]}}if(ref){ref=moment(ref);this.imply("day",ref.date());this.imply("month",ref.month()+1);this.imply("year",ref.year())}this.imply("hour",12);this.imply("minute",0);this.imply("second",0)}ParsedComponents.prototype.clone=function(){var component=new ParsedComponents;component.knownValues=JSON.parse(JSON.stringify(this.knownValues));component.impliedValues=JSON.parse(JSON.stringify(this.impliedValues));return component};ParsedComponents.prototype.get=function(component,value){if(component in this.knownValues)return this.knownValues[component];if(component in this.impliedValues)return this.impliedValues[component]};ParsedComponents.prototype.assign=function(component,value){this.knownValues[component]=value;delete this.impliedValues[component]};ParsedComponents.prototype.imply=function(component,value){if(component in this.knownValues)return;this.impliedValues[component]=value};ParsedComponents.prototype.isCertain=function(component){return component in this.knownValues};ParsedComponents.prototype.date=function(){var dateMoment=moment();dateMoment.set("year",this.get("year"));dateMoment.set("month",this.get("month")-1);dateMoment.set("date",this.get("day"));dateMoment.set("hour",this.get("hour"));dateMoment.set("minute",this.get("minute"));dateMoment.set("second",this.get("second"));var currentTimezoneOffset=-(new Date).getTimezoneOffset();var targetTimezoneOffset=this.isCertain("timezoneOffset")?this.get("timezoneOffset"):currentTimezoneOffset;var adjustTimezoneOffset=targetTimezoneOffset-currentTimezoneOffset;dateMoment.add(-adjustTimezoneOffset,"minutes");return dateMoment.toDate()};exports.ParsedComponents=ParsedComponents;exports.ParsedResult=ParsedResult},{moment:1}]},{},[2])(2)});
//# sourceMappingURL=chrono.min.map
